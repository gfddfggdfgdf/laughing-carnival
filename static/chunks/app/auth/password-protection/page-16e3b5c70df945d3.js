!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="fcb0790f-741a-4aee-ad93-00420bce0dd9",e._sentryDebugIdIdentifier="sentry-dbid-fcb0790f-741a-4aee-ad93-00420bce0dd9")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1853],{629:e=>{e.exports={container:"Tooltip_container__DlcBt",tooltip:"Tooltip_tooltip__xHpU7"}},1351:(e,t,n)=>{Promise.resolve().then(n.bind(n,27667))},11725:e=>{e.exports={label:"Password_label__IQVms",label_text:"Password_label_text__P23jn",optional:"Password_optional__1qp25",insideLabel:"Password_insideLabel__GQdmq",input:"Password_input__nAh4F",eye:"Password_eye__hV8Xj"}},16889:(e,t,n)=>{"use strict";n.d(t,{i:()=>r,V:()=>a});let s=n(8861).z.enum(["web","android","ios"]).catch("web");var o=n(53455);let r=()=>{let e=s.safeParse(window.PLATFORM);return e.success?e.data:"web"},a=()=>(0,o.useQuery)({queryKey:["platform"],queryFn:r})},27667:(e,t,n)=>{"use strict";n.d(t,{default:()=>_});var s=n(95155),o=n(42749),r=n(95392),a=n.n(r),l=n(22544),i=n(66942),c=n(67839),d=n(81546),u=n(58330);function _(){let{mutate:e,isPending:t}=(0,u.W4)(),n=(0,l.mN)({resolver:(0,i.u)(d.aI),defaultValues:{password:""},mode:"onSubmit",reValidateMode:"onChange"}),{password:r}=(0,l.FH)({control:n.control}),_=async t=>{e(t)};return(0,s.jsx)("div",{className:a().container,children:(0,s.jsxs)("div",{className:a().content,children:[(0,s.jsxs)("div",{className:a().header,children:[(0,s.jsxs)("h2",{className:a().title,children:[(0,s.jsx)("span",{children:"X"}),(0,s.jsx)("span",{children:"O"})]}),(0,s.jsx)("p",{className:a().subtitle,children:"Imagine anything."})]}),(0,s.jsx)(l.Op,{...n,children:(0,s.jsxs)("form",{className:a().form,onSubmit:n.handleSubmit(_),autoComplete:"off",children:[(0,s.jsx)(o.A,{name:"password",placeholder:"Enter your password",showError:!0}),(0,s.jsx)(c.A,{disabled:!r||t,type:"submit",size:"l",isLoading:t,color:"darkgray",children:"Enter"})]})})]})})}},42749:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var s=n(95155),o=n(11725),r=n.n(o),a=n(12115),l=n(47838),i=n(6092);let c=function(e){let{label:t,insideLabel:n,xoulTag:o=!1,className:c,optional:d=!1,tooltipContent:u,..._}=e,[p,m]=(0,a.useState)(!1),h=(0,a.useRef)(null);return(0,s.jsxs)("label",{className:r().label+" "+c,children:[(0,s.jsxs)("span",{className:r().label_text,children:[t,d&&(0,s.jsx)("span",{className:r().optional,children:"(optional)"}),u&&(0,s.jsx)(l.A,{tooltipContent:u,place:"top-start"})]}),(0,s.jsx)("span",{onMouseDown:e=>{var t;e.preventDefault(),m(!p),null==(t=h.current)||t.focus()},className:r().eye,children:p?(0,s.jsx)(i.Sq0,{}):(0,s.jsx)(i.JPe,{})}),n&&(0,s.jsx)("span",{className:r().insideLabel,children:n}),(0,s.jsx)("input",{style:n?{paddingLeft:"40px"}:{},type:p?"text":"password",className:r().input,..._})]})};var d=n(22544),u=n(42902),_=n(98134),p=n.n(_);let m=e=>{var t;let{name:n,showError:o=!0,errorMinHeight:r,...a}=e,{register:l}=(0,d.xW)(),{errors:i}=(0,d.lN)({name:n}),_=null==(t=p()(i,n))?void 0:t.message;return(0,s.jsxs)("div",{children:[(0,s.jsx)(c,{...a,...l(n)}),o&&(0,s.jsx)(u.A,{minHeight:r,children:"string"==typeof _?_:null})]})}},42902:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var s=n(95155),o=n(12115),r=n(2821),a=n(53658),l=n.n(a);let i=e=>{let{children:t,textAlign:n,minHeight:a="20px",type:i="error",refCallBack:c=()=>{}}=e,d=(0,o.useRef)(null);return(0,o.useImperativeHandle)(c,()=>({focus:()=>{var e;null==(e=d.current)||e.scrollIntoView({block:"center",behavior:"smooth"})}}),[]),(0,s.jsx)("span",{ref:d,className:(0,r.A)(l().alert,l()[i]),style:{textAlign:n,minHeight:a},children:t&&t})}},43746:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var s,o=n(12115);function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(null,arguments)}let a=function(e){return o.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 20 20"},e),s||(s=o.createElement("path",{fill:"inherit",d:"M10.001.417a9.583 9.583 0 1 0 0 19.166 9.583 9.583 0 0 0 0-19.166m.959 13.416a.958.958 0 1 1-1.917 0V9.041a.958.958 0 0 1 1.917 0zM10 7.125a.958.958 0 1 1 0-1.917.958.958 0 0 1 0 1.917"})))}},47838:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var s=n(95155),o=n(12115),r=n(629),a=n.n(r),l=n(43746),i=n(55817),c=n(2821);let d=e=>{let{tooltipContent:t,size:n,className:r,icon:d,...u}=e,_=(0,o.useId)(),p=d||l.default;return(0,s.jsxs)("div",{className:a().container,children:[(0,s.jsx)(p,{className:(0,c.A)(a().tooltip,r),"data-tooltip-id":_,"data-tooltip-html":t,onClick:e=>{e.preventDefault(),e.stopPropagation()},style:{zIndex:20}}),(0,s.jsx)(i.m_,{id:_,variant:"light",closeEvents:{click:!0,mouseleave:!0},globalCloseEvents:{clickOutsideAnchor:!0},openEvents:{click:!0,mouseover:!0},className:a().reacttooltip,...u})]})}},53658:e=>{e.exports={alert:"Alert_alert__BHdCv",error:"Alert_error__R0qYF",success:"Alert_success__hMpYE",info:"Alert_info__v8PbL"}},58330:(e,t,n)=>{"use strict";n.d(t,{Ey:()=>p,VX:()=>m,W4:()=>f,_i:()=>_,gU:()=>h,z_:()=>w});var s=n(68977),o=n(58998),r=n(82537),a=n(99776),l=n(80549),i=n(20063),c=n(44517),d=n(16889),u=n(97453);let _=()=>{let e=(0,i.useRouter)(),t=(0,a.useQueryClient)(),[n]=(0,u.ZA)("error_description"),{data:c}=(0,d.V)();return(0,l.useMutation)({mutationFn:async e=>{let{force:t}=e;if("web"===c||t)return o.uR.authLogout();(0,r.D)({event:"logout",payload:{reason:n}})},onSuccess(n,o){let{force:r}=o;("web"===c||r)&&(t.clear(),s.s.disconnect(),e.replace("/"),e.refresh())}})},p=()=>(0,l.useMutation)({mutationFn:o.uR.authSignup,meta:{disableOnError:!0}}),m=()=>{let e=(0,a.useQueryClient)();return(0,l.useMutation)({mutationFn:o.uR.authLoginPassword,onSuccess:()=>{e.refetchQueries({queryKey:["user-info-cookie"]})},meta:{disableOnError:!0}})},h=()=>(0,l.useMutation)({mutationFn:o.uR.authPasswordReset,meta:{disableOnError:!0}}),w=()=>(0,l.useMutation)({mutationFn:e=>{let{token:t,password:n}=e;return o.uR.authPasswordResetCallback(t,{password:n})}}),f=()=>{let e=(0,i.useRouter)();return(0,l.useMutation)({mutationFn:async e=>{let t=await fetch("/api/auth/password-protection",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Invalid password");return t},onSuccess:()=>{e.push("/")},onError:()=>{c.Ay.error("Invalid password")},meta:{disableOnError:!0}})}},67839:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var s=n(95155),o=n(52619),r=n.n(o),a=n(77900),l=n.n(a),i=n(64519),c=n(2821),d=n(12115),u=n(71408),_=n(12418),p=n(16424),m=n(88334),h=n(21166),w=n(20063);function f(e){let{href:t,iconLeft:n,iconRight:o,className:a,isLoading:f,openInNewTab:b,type:g="button",color:x="gray",size:y="m",variant:v="filled",children:j,linkProps:P,textAlign:N="center",rounded:B,cells:k,cellsRight:I,dropdownItems:A,onDropdownChange:C,activeDropdownValue:z,dropdownWidth:E,dropdownGap:O,...R}=e,[D,M]=(0,d.useState)(!1),[S,F]=(0,d.useState)("bottom-end"),V=(0,w.useRouter)(),L=(0,d.useRef)(null),T=(0,d.useRef)(null),W=R.disabled||f,U=A&&A.length>0,{refs:X,floatingStyles:q,context:Q,placement:H,x:K,y:G,strategy:Z,isPositioned:J}=(0,p.we)({open:D,onOpenChange:M,placement:S,strategy:"absolute",middleware:[(0,m.cY)(null!=O?O:8),(0,m.UU)({padding:8}),(0,m.BN)({padding:8})],whileElementsMounted:h.ll}),{getReferenceProps:Y,getFloatingProps:$}=(0,p.bv)([(0,p.kp)(Q,{event:"click",enabled:U&&!W}),(0,p.s9)(Q),(0,p.It)(Q,{role:"menu"})]),ee=e=>{U&&!W?(e.preventDefault(),e.stopPropagation()):R.onClick&&R.onClick(e)},et=(0,c.A)(l().button,l()[x],l()[y],l()[v],...B?[l()["rounded-".concat(B)]]:[],U&&l().hasDropdown,U&&D&&l().dropdownOpen,a),en=e=>"number"==typeof e?0===e?"free!":"".concat(e," ").concat(1===e?"cell":"cells"):null,es=en(k),eo=en(I),er=(0,s.jsxs)("span",{className:l().content,children:[n&&(0,s.jsx)("span",{className:l().icon,children:n}),j&&(0,s.jsxs)("span",{className:l().label,style:{textAlign:N},children:[j,es&&(0,s.jsxs)("span",{className:l().cells,children:[" (",es,")"]})]}),f?(0,s.jsx)("span",{className:(0,c.A)(l().icon,l().loading),children:(0,s.jsx)(i.A,{})}):(0,s.jsxs)(s.Fragment,{children:[o&&!U&&(0,s.jsx)("span",{className:(0,c.A)(l().icon),children:o}),eo&&(0,s.jsx)("span",{className:(0,c.A)(l().cells,l().right),children:eo})]})]}),ea=e=>{let[t,n]=e.split("-");return{side:t,align:null!=n?n:"center"}},el=(e=>{let{side:t,align:n}=ea(e),s="start"===n?"left":"end"===n?"right":"center";switch(t){case"top":return"bottom ".concat(s);case"bottom":return"top ".concat(s);case"left":return"right ".concat("start"===n?"top":"end"===n?"bottom":"center");case"right":return"left ".concat("start"===n?"top":"end"===n?"bottom":"center");default:return"top left"}})(H),ei=(e=>{let{side:t}=ea(e);switch(t){case"top":return{x:0,y:10};case"bottom":default:return{x:0,y:-10};case"left":return{x:20,y:0};case"right":return{x:-20,y:0}}})(H);return(0,d.useEffect)(()=>{D&&F(window.innerWidth<=480?"top-end":"bottom-end")},[D]),(0,s.jsxs)(s.Fragment,{children:[t&&!W?(0,s.jsx)(r(),{ref:e=>{T.current=e,X.setReference(e)},href:t,className:et,...b?{target:"_blank",rel:"noopener noreferrer"}:{},...P,...Y({onClick:ee}),children:er}):(0,s.jsx)("button",{ref:e=>{L.current=e,X.setReference(e)},className:et,type:g,...R,...Y({onClick:ee}),"data-is-loading":f,disabled:W,children:er}),U&&(0,s.jsx)(p.XF,{children:(0,s.jsx)(u.N,{children:D&&(0,s.jsx)(_.P.div,{className:l().dropdownMenu,initial:{scale:0,x:ei.x,y:ei.y,transformOrigin:el},animate:{scale:1,x:0,y:0,transformOrigin:el},exit:{scale:0,x:ei.x,y:ei.y,transformOrigin:el,opacity:0},transition:{duration:.2,ease:"easeInOut"},ref:X.setFloating,style:{...q,top:null!=G?G:-9999,left:null!=K?K:-9999,zIndex:1e3,...E&&{minWidth:"".concat(E,"px"),width:"".concat(E,"px")}},...$(),children:null==A?void 0:A.map(e=>(0,s.jsxs)("div",{className:(0,c.A)(l().dropdownItem,{[l().active]:z&&e.value===z}),onClick:()=>{M(!1),C&&e.value&&C(e.value),e.onClick&&e.onClick(),e.href&&V.push(e.href)},children:[(0,s.jsx)("span",{className:l().dropdownItemLabel,children:e.label}),e.icon&&(0,s.jsx)("span",{className:l().dropdownItemIcon,children:e.icon})]},e.label))})})})]})}},68977:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});var s=n(86504),o=n(45520),r=n(95279);let a=(0,o.io)(s.K.REST_API_ENDPOINT,{autoConnect:!1,withCredentials:!0,reconnection:!0,reconnectionAttempts:1/0,tryAllTransports:!0,rememberUpgrade:!0,transports:[r.Fp,r.kb],reconnectionDelay:1e3,reconnectionDelayMax:5e3,randomizationFactor:.5})},77900:e=>{e.exports={buttonContainer:"Button_buttonContainer__uvlb4",button:"Button_button__lX07l",label:"Button_label__0PZaT",content:"Button_content___nipk",icon:"Button_icon__GTtAx","rounded-md":"Button_rounded-md__SDWJy","rounded-full":"Button_rounded-full__A9v4w",loading:"Button_loading__GW8UQ",rotate:"Button_rotate__AGV26",xs:"Button_xs__uKnDD",s:"Button_s__6DkgU",m:"Button_m__9zuXQ",l:"Button_l__oOMoA",xl:"Button_xl__M6jwH",gray:"Button_gray__wfiIn",black:"Button_black__xwD5g",white:"Button_white__3bRmo",pink:"Button_pink__cHJfY",darkgray:"Button_darkgray__Bau8d",outlined:"Button_outlined__uZ61q",filled:"Button_filled__3kNT0","filled-white":"Button_filled-white__pm07d",ghost:"Button_ghost__y0B4a",naked:"Button_naked__bOw0K",cells:"Button_cells__mB5C_",right:"Button_right__VwREV",hasDropdown:"Button_hasDropdown__7PXAC",chevronIcon:"Button_chevronIcon___9zL2",rotated:"Button_rotated__p2SFv",dropdownMenu:"Button_dropdownMenu__zC0nt",dropdownItem:"Button_dropdownItem__v1vZI",active:"Button_active__bKAka",dropdownItemLabel:"Button_dropdownItemLabel__j5l0h",dropdownItemIcon:"Button_dropdownItemIcon__U3Zsj"}},81546:(e,t,n)=>{"use strict";n.d(t,{O5:()=>u,UC:()=>r,X5:()=>d,aI:()=>c,oW:()=>_,y4:()=>a});var s=n(8861);let o=/(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?])/,r=s.z.object({email:s.z.string(),has_password:s.z.boolean(),site_permissions:s.z.array(s.z.string()).default([])}),a=s.z.object({email:s.z.string().email()}),l=s.z.object({password:s.z.string().min(1)}),i=s.z.object({password:s.z.string().min(8,"Password must be at least 8 characters long").refine(e=>/[a-z]/.test(e),{message:"Password must include a lowercase letter"}).refine(e=>/[A-Z]/.test(e),{message:"Password must include an uppercase letter"}).refine(e=>/[0-9]/.test(e),{message:"Password must include a number"}).refine(e=>o.test(e),{message:"Password must include a special characters (e.g. !@#$%^&*)"})}),c=s.z.object({password:s.z.string()}),d=a.merge(l),u=a.merge(i),_=i.merge(s.z.object({confirm_password:s.z.string()})).refine(e=>e.password===e.confirm_password,{message:"Password doesn't match",path:["confirm_password"]})},82537:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});let s=e=>{window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify(e))}},95392:e=>{e.exports={container:"PasswordProtection_container__amXOo",content:"PasswordProtection_content__22jnE",header:"PasswordProtection_header__YeSvs",title:"PasswordProtection_title__yS2Go",form:"PasswordProtection_form__8dmGx",subtitle:"PasswordProtection_subtitle__OTOKx",highlight:"PasswordProtection_highlight___Ra7e",alert:"PasswordProtection_alert__NRock"}}},e=>{e.O(0,[4104,8078,4023,2545,8087,2619,4517,7027,549,3455,134,7931,9180,9452,9848,4670,8998,4850,8441,1431,7358],()=>e(e.s=1351)),_N_E=e.O()}]);